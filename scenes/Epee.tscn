[gd_scene load_steps=20 format=3 uid="uid://d13k403yf1uji"]

[ext_resource type="Shader" path="res://stylised_sky.gdshader" id="1_qtg4g"]
[ext_resource type="Texture2D" uid="uid://p3kihnmxk126" path="res://icon.png" id="2_nnril"]
[ext_resource type="Script" uid="uid://b8pc53qamhlxx" path="res://characters/character_body_3d.gd" id="3_sapg6"]
[ext_resource type="Script" uid="uid://b7yx1f5pmea0o" path="res://code/persoInteractible.gd" id="6_rxtyn"]
[ext_resource type="Script" uid="uid://br7f1jdayby5g" path="res://code/area_interactible.gd" id="8_kg62m"]
[ext_resource type="MeshLibrary" uid="uid://xjdrwoo0flew" path="res://Assets/3D/LDLib2.tres" id="10_qhvbj"]
[ext_resource type="AudioStream" uid="uid://7l7qwaj23p1i" path="res://Assets/son/Monarch.tres" id="10_umwyf"]
[ext_resource type="PackedScene" uid="uid://b4esrehdyjjt3" path="res://characters/king.tscn" id="11_777ts"]
[ext_resource type="PackedScene" uid="uid://bwd7shsnbjfht" path="res://scenes/interface_dialogues.tscn" id="12_cb0ju"]
[ext_resource type="PackedScene" uid="uid://27f0o3042qw8" path="res://scenes/interface_livre.tscn" id="12_dibfs"]

[sub_resource type="Curve" id="Curve_iju8q"]
_data = [Vector2(0.011160709, 0), 0.0, 0.0, 0, 0, Vector2(0.078124985, 1), 0.0, 0.0, 0, 0, Vector2(1, 0.7821012), 0.0, 0.0, 0, 0]
point_count = 3

[sub_resource type="CurveTexture" id="CurveTexture_7xjic"]
curve = SubResource("Curve_iju8q")

[sub_resource type="FastNoiseLite" id="FastNoiseLite_r1q5g"]

[sub_resource type="NoiseTexture2D" id="NoiseTexture2D_r1q5g"]
noise = SubResource("FastNoiseLite_r1q5g")
seamless = true

[sub_resource type="ShaderMaterial" id="ShaderMaterial_7xjic"]
shader = ExtResource("1_qtg4g")
shader_parameter/cloud_shape_sampler = SubResource("NoiseTexture2D_r1q5g")
shader_parameter/cloud_noise_sampler = SubResource("NoiseTexture2D_r1q5g")
shader_parameter/cloud_curves = SubResource("CurveTexture_7xjic")
shader_parameter/clouds_samples = 32
shader_parameter/shadow_sample = 4
shader_parameter/clouds_density = 0.40000000596048
shader_parameter/clouds_scale = 1.0
shader_parameter/clouds_smoothness = 0.02999999932944
shader_parameter/clouds_light_color = Color(1, 0.80784315, 1, 1)
shader_parameter/clouds_shadow_intensity = 1.0
shader_parameter/high_clouds_sampler = SubResource("NoiseTexture2D_r1q5g")
shader_parameter/high_clouds_density = 0.30000000447036
shader_parameter/top_color = Color(0.34901962, 0.5882353, 1, 1)
shader_parameter/bottom_color = Color(0.2510261, 0.41236493, 0.67437, 1)
shader_parameter/sun_scatter = Color(0.29803923, 0.29803923, 0.29803923, 1)
shader_parameter/astro_tint = Color(0.90588236, 0.7882353, 0.627451, 1)
shader_parameter/astro_sampler = ExtResource("2_nnril")
shader_parameter/astro_scale = 5.5000000819566
shader_parameter/astro_intensity = 3.0
shader_parameter/stars_intensity = 0.0
shader_parameter/shooting_stars_intensity = 0.0
shader_parameter/shooting_star_tint = Color(0, 0, 0, 1)

[sub_resource type="Sky" id="Sky_xe6jm"]
sky_material = SubResource("ShaderMaterial_7xjic")

[sub_resource type="Environment" id="Environment_r1q5g"]
background_mode = 2
sky = SubResource("Sky_xe6jm")
tonemap_mode = 2
glow_enabled = true

[sub_resource type="CapsuleShape3D" id="CapsuleShape3D_r1q5g"]

[sub_resource type="CylinderShape3D" id="CylinderShape3D_tt8b8"]
height = 8.473877
radius = 52.6958

[node name="scene_base" type="Node3D"]

[node name="DirectionalLight3D" type="DirectionalLight3D" parent="."]
transform = Transform3D(1, 0, 0, 0, -4.371139e-08, 0.9999999, 0, -1, -4.3711385e-08, 0, 3.6594257, 1.3243967)
shadow_enabled = true
directional_shadow_mode = 0

[node name="WorldEnvironment" type="WorldEnvironment" parent="."]
environment = SubResource("Environment_r1q5g")

[node name="CharacterBody3D" type="CharacterBody3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1.0025649, 3.4438248)
script = ExtResource("3_sapg6")

[node name="head" type="Node3D" parent="CharacterBody3D"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 2.2380977, 0)

[node name="headVIEW" type="Camera3D" parent="CharacterBody3D/head"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, -0.041048527, 0)

[node name="CollisionShape3D" type="CollisionShape3D" parent="CharacterBody3D"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1.9014225, 0)
shape = SubResource("CapsuleShape3D_r1q5g")

[node name="LegendeEpee" type="Node3D" parent="." node_paths=PackedStringArray("area")]
transform = Transform3D(-0.040000003, 0, -3.4969112e-09, 0, 0.040000003, 0, 3.4969112e-09, 0, -0.040000003, -4.266241, 1.7673626, 1.8461657)
script = ExtResource("6_rxtyn")
accroche = ""
voix = ExtResource("10_umwyf")
nom = "[font_size=30][outline_size=15][outline_color=dark_blue]L'épée sacrée"
area = NodePath("Area3D")

[node name="Area3D" type="Area3D" parent="LegendeEpee"]
transform = Transform3D(0.99999994, 0, -7.1054274e-15, 0, 0.99999994, 0, 7.1054274e-15, 0, 0.99999994, 117.260315, 0, 21.783562)
script = ExtResource("8_kg62m")

[node name="CollisionShape3D" type="CollisionShape3D" parent="LegendeEpee/Area3D"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -0.025512695, -2.9499893, 1.3709717)
shape = SubResource("CylinderShape3D_tt8b8")

[node name="Monarch" type="Node3D" parent="." node_paths=PackedStringArray("area")]
transform = Transform3D(-8.742278e-09, 0, 0.2, 0, 0.2, 0, -0.2, 0, -8.742278e-09, -5.531002, 1.4728022, 6.8445377)
script = ExtResource("6_rxtyn")
voix = ExtResource("10_umwyf")
nom = "[font_size=30][outline_size=15][outline_color=dark_blue]Monarch"
area = NodePath("Area3D")

[node name="Area3D" type="Area3D" parent="Monarch"]
script = ExtResource("8_kg62m")

[node name="CollisionShape3D" type="CollisionShape3D" parent="Monarch/Area3D"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -0.02551651, -2.9499884, 1.3709717)
shape = SubResource("CylinderShape3D_tt8b8")

[node name="king" parent="Monarch" instance=ExtResource("11_777ts")]
transform = Transform3D(-2.1855693e-07, 0, -5, 0, 5, 0, 5, 0, -2.1855693e-07, 0, 0, 0)

[node name="InterfaceLivres" parent="." instance=ExtResource("12_dibfs")]
unique_name_in_owner = true
visible = false
offset_top = 448.0
offset_bottom = 404.0

[node name="InterfaceDialogues" parent="." instance=ExtResource("12_cb0ju")]
unique_name_in_owner = true
visible = false

[node name="Objets" type="GridMap" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.62134695, 0)
mesh_library = ExtResource("10_qhvbj")
cell_size = Vector3(2, 1, 2)
data = {
"cells": PackedInt32Array(65531, 0, 1048588, -5, 0, 1048587)
}
metadata/_editor_floor_ = Vector3(0, -3, 0)

[node name="sol" type="GridMap" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.15, 0)
mesh_library = ExtResource("10_qhvbj")
cell_size = Vector3(2, 1, 2)
cell_center_x = false
cell_center_y = false
cell_center_z = false
data = {
"cells": PackedInt32Array(65532, 0, 1310728, 65532, 65535, 1310728, 65533, 65535, 1310728, 65534, 65535, 1310728, 65535, 65535, 1310728, 0, 65535, 1310728, 1, 65535, 1310728, 2, 65535, 1310728, 2, 0, 1179656, 2, 1, 1310728, 1, 1, 1310728, 1, 2, 1310728, 1, 3, 1310728, 2, 2, 1310728, 2, 3, 1310728, 2, 4, 1310728, 2, 5, 1310728, 1, 5, 1310728, 1, 6, 1310728, 2, 6, 1310728, 0, 6, 1310728, 65535, 6, 1310728, 65535, 5, 1310728, 65534, 5, 1310728, 65534, 6, 1310728, 65533, 6, 1310728, 65533, 5, 1310728, 65532, 5, 1310728, 65532, 6, 1310728, 65531, 5, 1310728, 65531, 4, 1310728, 65532, 4, 1310728, 65532, 3, 1310728, 65532, 2, 1310728, 65532, 1, 1310728, 65533, 0, 1310728, 65533, 1, 1310728, 65533, 2, 1310728, 65533, 3, 1310728, 65533, 4, 1310728, 65534, 4, 1310728, 65535, 4, 1310728, 0, 4, 1310728, 0, 5, 1310728, 65535, 3, 1310728, 0, 3, 1310728, 0, 2, 1310728, 65535, 2, 1310728, 65535, 1, 1310728, 65534, 1, 1310728, 65534, 3, 1310728, 65534, 2, 1310728, 65534, 0, 1310728, 65535, 0, 1310728, 0, 1, 1310728, 0, 0, 1310728, 1, 4, 1310728, 1, 0, 1179656, 3, 5, 1179656, 3, 4, 1179656, 3, 3, 1179656, 3, 2, 1179656, 3, 1, 1179656, 3, 0, 1179656, 65531, 0, 1179656, 65531, 1, 1179656, 65531, 2, 1179656, 65531, 3, 1179656, 65534, 7, 1179656, 65535, 7, 1179656, 0, 7, 1179656, 4, 2, 1179656, 4, 3, 1179656, 65530, 2, 1179656, 65530, 3, 1179656, 65534, 65534, 1179656, 65535, 65534, 1179656, 0, 65534, 1179656, 65530, 1, 1179656, 4, 1, 1179656, 3, 65535, 1179656, 1, 65534, 1179656, 65531, 65535, 1179656, 65533, 65534, 1179656, 65532, 65534, 1179656, 2, 65534, 1179656, 0, 65533, 1179656, 65535, 65533, 1179656, 65534, 65533, 1179656, 327683, 2, 1441807, 327682, 2, 1441807, 327682, 3, 1441807, 327682, 4, 1441807, 327682, 1, 1441807, 327682, 0, 1441807, 327681, 0, 1441807, 327681, 1, 1441807, 327681, 4, 1441807, 327681, 5, 1441807, 327681, 3, 1441807, 327680, 0, 1441807, 393214, 0, 1441807, 393213, 0, 1441807, 393213, 1, 1441807, 393213, 3, 1441807, 393214, 4, 1441807, 393213, 4, 1441807, 327680, 4, 1441807, 327681, 2, 1441807, 393215, 0, 1441807, 393213, 2, 1441807, 393215, 4, 1441807, 327680, 5, 1441807, 393215, 5, 1441807, 393215, 6, 1441807, 393214, 5, 1441807, 393213, 5, 1441807, 393212, 4, 1441807, 393212, 3, 1441807, 393212, 2, 1441807, 393211, 2, 1441807, 393212, 0, 1441807, 393212, 1, 1441807, 393213, 65535, 1441807, 393214, 65535, 1441807, 393215, 65535, 1441807, 327680, 65535, 1441807, 327681, 65535, 1441807, 393215, 65534, 1441807, 327680, 3, 1441807, 393214, 3, 1441807, 327680, 1, 1441807, 393214, 1, 1441807, 851968, 1, 655368, 917503, 1, 655368, 917502, 3, 655368, 917503, 3, 655368, 851968, 2, 655368, 851968, 3, 655368, 917502, 2, 655368, 917502, 1, 655368)
}
metadata/_editor_floor_ = Vector3(0, 13, 0)

[node name="murs" type="GridMap" parent="."]
mesh_library = ExtResource("10_qhvbj")
cell_center_x = false
cell_center_y = false
cell_center_z = false
data = {
"cells": PackedInt32Array(4, 2, 1441794, 3, 4, 1441794, 3, 0, 1441794, 1, 6, 655362, 65535, 7, 655362, 65533, 6, 655362, 65531, 4, 1048578, 65530, 2, 1048578, 65531, 0, 1048578, 65533, 65534, 2, 65535, 65533, 2, 1, 65534, 2, 0, 65534, 1441801, 0, 65533, 10, 65534, 65533, 1048586, 65532, 65534, 1048586, 65531, 65535, 1048586, 65530, 1, 1048586, 65530, 3, 655370, 65531, 5, 655370, 65532, 6, 655370, 65534, 7, 655370, 0, 7, 1441802, 2, 6, 1441802, 3, 5, 1441802, 4, 3, 1441802, 4, 1, 10, 3, 65535, 10, 2, 65534, 10, 3, 1, 1441801, 2, 65535, 1441801, 3, 3, 655369, 2, 5, 655369, 0, 6, 655369, 65534, 6, 1048585, 65532, 5, 1048585, 65531, 3, 1048585, 65531, 1, 9, 65532, 65535, 9, 65534, 65534, 9, 65535, 4, 1441814, 65533, 2, 1441814, 65535, 0, 1441814, 1, 2, 1441814, 196603, 2, 1048576, 196605, 2, 1048576, 196605, 1, 1048576, 196605, 3, 1048576, 131073, 1, 1441792, 131073, 2, 1441792, 131073, 3, 1441792, 131072, 4, 655360, 196607, 4, 655360, 196606, 4, 655360, 196606, 0, 0, 196607, 0, 0, 131072, 0, 0, 131073, 0, 10, 131073, 4, 1441802, 196605, 4, 655370, 196605, 0, 1048586, 327678, 0, 2, 327679, 0, 2, 262144, 0, 2, 262145, 1, 1441794, 262145, 2, 1441794, 262145, 3, 1441794, 262144, 4, 655362, 327679, 4, 655362, 327678, 4, 655362, 327677, 3, 1048578, 327677, 2, 1048578, 327677, 1, 1048578, 327677, 0, 1048586, 262145, 0, 10, 262145, 4, 1441802, 327677, 4, 655370)
}
metadata/_editor_floor_ = Vector3(0, 4, 0)
